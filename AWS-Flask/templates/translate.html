<head>
  <link rel="stylesheet" media="all" href="css/style.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script>
    function submitTranslation() {
        clearTimeout(window.timer);
        window.timer = setTimeout(() => {
            document.querySelector('form').submit();
        }, 5000);
    }
  </script>
</head>
<body>
  <h1>AWS Translateで翻訳します</h1>
  <form method="post" action="/">
    <div class="item-list">
    <h2>翻訳元の言語を選択してください</h2>
    <select name="source_language">
      <option value="ja">日本語</option>
      <option value="en">英語</option>
      <option value="fr">フランス語</option>
      <option value="de">ドイツ語</option>
      <option value="es">スペイン語</option>
    </select>
    <h2>翻訳先の言語を選択してください</h2>
    <select name="target_language">
      <option value="en">英語</option>
      <option value="ja">日本語</option>
      <option value="fr">フランス語</option>
      <option value="de">ドイツ語</option>
      <option value="es">スペイン語</option>
    </div>
    </select><br><br>
    <form method="post" action="/" onsubmit="return submitForm()">
    <textarea name="input_text"  oninput="submitTranslation()"placeholder="翻訳したい文章を入力してください"cols="50" rows="6"></textarea><br><br>
  </form>
  <h2>入力された文章</h2>
  <div>{{ input_text }}</div><br>
  <h2>翻訳結果</h2>
  <div>{{ output_text }}</div><br>
  {% if audio_url %}
    <h2>音声再生</h2>
    <audio controls>
      <source src="{{ audio_url }}" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  {% endif %}
</body>